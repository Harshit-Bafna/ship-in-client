<app-officer-layout>
    <div class="dropoff-container">
        <div class="card">
            <h1 class="page-title">Parcel Drop-off</h1>
            <p class="page-subtitle">
                Enter the booking ID to fetch parcel details and complete
                drop-off.
            </p>

            @if (errorMessage()) {
                <div class="alert alert-error">
                    {{ errorMessage() }}
                </div>
            }

            @if (successMessage()) {
                <div class="alert alert-success">
                    {{ successMessage() }}
                </div>
            }

            <div class="form-group">
                <label class="input-label">Booking ID *</label>
                <input
                    type="text"
                    class="input"
                    placeholder="Enter booking ID"
                    [ngModel]="bookingId()"
                    (ngModelChange)="bookingId.set($event)"
                />
            </div>

            <button
                class="btn btn-primary"
                (click)="fetchBooking()"
                [disabled]="isLoading() || !bookingId()"
            >
                @if (isLoading()) {
                    Fetching...
                } @else {
                    Fetch Booking
                }
            </button>
        </div>

        @if (bookingDetails()) {
            <div class="card details-card">
                <h2 class="section-title">Booking Details</h2>

                <div class="detail-row">
                    <span class="label">Tracking ID</span>
                    <span class="value">
                        {{ bookingDetails()?.trackingId }}
                    </span>
                </div>

                <div class="detail-row">
                    <span class="label">Delivery Address</span>
                    <span class="value">
                        {{ bookingDetails()?.deliveryAddress }}
                    </span>
                </div>

                <button
                    class="btn btn-primary dropoff-btn"
                    (click)="dropOffParcel()"
                >
                    Drop Off Parcel
                </button>
            </div>
        }
    </div>
</app-officer-layout>
