<div class="signup-container">
    <app-card [variant]="'elevated'" [padding]="'none'" class="signup-card">
        <app-card-header class="logo-section">
            <div class="logo-container">
                <img class="logo-icon" src="logo.png" />
                <h1 class="brand-name">Ship In</h1>
            </div>
            <p class="brand-description">
                Track, manage, and deliver with confidence
            </p>
        </app-card-header>

        <app-card-content class="signup-form">
            <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
                <h2 class="form-title">Create Account</h2>
                <p class="form-subtitle">Fill in your details to get started</p>

                @if (errorMessage()) {
                <app-alert [variant]="'error'" class="error-alert">
                    {{ errorMessage() }}
                </app-alert>
                } @if (successMessage()) {
                <app-alert [variant]="'success'" class="success-alert">
                    {{ successMessage() }}
                </app-alert>
                }

                <div class="form-section">
                    <h3 class="section-title">Personal Information</h3>

                    <div class="form-group">
                        <app-input
                            [id]="'name'"
                            [type]="'text'"
                            [label]="'Full Name'"
                            [placeholder]="'Enter your full name'"
                            [iconLeft]="
                                'M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z'
                            "
                            [error]="getFieldError('name')"
                            [(value)]="name"
                            (blurred)="updateField('name', name())"
                        ></app-input>
                    </div>

                    <div class="form-group">
                        <app-input
                            [id]="'email'"
                            [type]="'email'"
                            [label]="'Email Address'"
                            [placeholder]="'Enter your email'"
                            [iconLeft]="
                                'M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z'
                            "
                            [error]="getFieldError('email')"
                            [(value)]="email"
                            (blurred)="updateField('email', email())"
                        ></app-input>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <app-input
                                [id]="'password'"
                                [type]="'password'"
                                [label]="'Password'"
                                [placeholder]="'Create password'"
                                [iconLeft]="
                                    'M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z'
                                "
                                [error]="getFieldError('password')"
                                [(value)]="password"
                                (blurred)="updateField('password', password())"
                            ></app-input>
                        </div>

                        <div class="form-group">
                            <app-input
                                [id]="'confirmPassword'"
                                [type]="'password'"
                                [label]="'Confirm Password'"
                                [placeholder]="'Re-enter password'"
                                [iconLeft]="
                                    'M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z'
                                "
                                [error]="getFieldError('confirmPassword')"
                                [(value)]="confirmPassword"
                                (blurred)="
                                    updateField(
                                        'confirmPassword',
                                        confirmPassword()
                                    )
                                "
                            ></app-input>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group country-code">
                            <app-select
                                [id]="'mobileCountryCode'"
                                [label]="'Code'"
                                [options]="countryCodeOptions()"
                                [(value)]="mobileCountryCode"
                                (changed)="onCountryCodeChange($event)"
                            ></app-select>
                        </div>

                        <div class="form-group mobile-number">
                            <app-input
                                [id]="'mobileNumber'"
                                [type]="'tel'"
                                [label]="'Mobile Number'"
                                [placeholder]="'Enter mobile number'"
                                [iconLeft]="
                                    'M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z'
                                "
                                [error]="getFieldError('mobileNumber')"
                                [(value)]="mobileNumber"
                                (blurred)="
                                    updateField('mobileNumber', mobileNumber())
                                "
                            ></app-input>
                        </div>
                    </div>
                </div>

                <app-divider class="section-divider"></app-divider>

                <div class="form-section">
                    <h3 class="section-title">Address Details</h3>

                    <div class="form-row">
                        <div class="form-group">
                            <app-input
                                [id]="'houseNo'"
                                [type]="'text'"
                                [label]="'House/Flat No'"
                                [placeholder]="'House or flat number'"
                                [iconLeft]="
                                    'M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6'
                                "
                                [error]="getFieldError('houseNo')"
                                [(value)]="houseNo"
                                (blurred)="updateField('houseNo', houseNo())"
                            ></app-input>
                        </div>

                        <div class="form-group">
                            <app-input
                                [id]="'addressLine1'"
                                [type]="'text'"
                                [label]="'Address Line 1'"
                                [placeholder]="'Street, area'"
                                [iconLeft]="
                                    'M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z M15 11a3 3 0 11-6 0 3 3 0 016 0z'
                                "
                                [error]="getFieldError('addressLine1')"
                                [(value)]="addressLine1"
                                (blurred)="
                                    updateField('addressLine1', addressLine1())
                                "
                            ></app-input>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <app-input
                                [id]="'addressLine2'"
                                [type]="'text'"
                                [label]="'Address Line 2 (Optional)'"
                                [placeholder]="'Additional address info'"
                                [iconLeft]="
                                    'M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z M15 11a3 3 0 11-6 0 3 3 0 016 0z'
                                "
                                [(value)]="addressLine2"
                                (blurred)="
                                    updateField('addressLine2', addressLine2())
                                "
                            ></app-input>
                        </div>

                        <div class="form-group">
                            <app-input
                                [id]="'landmark'"
                                [type]="'text'"
                                [label]="'Landmark (Optional)'"
                                [placeholder]="'Nearby landmark'"
                                [iconLeft]="
                                    'M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z'
                                "
                                [(value)]="landmark"
                                (blurred)="updateField('landmark', landmark())"
                            ></app-input>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <app-input
                                [id]="'city'"
                                [type]="'text'"
                                [label]="'City'"
                                [placeholder]="'Enter city'"
                                [iconLeft]="
                                    'M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4'
                                "
                                [error]="getFieldError('city')"
                                [(value)]="city"
                                (blurred)="updateField('city', city())"
                            ></app-input>
                        </div>

                        <div class="form-group">
                            <app-input
                                [id]="'state'"
                                [type]="'text'"
                                [label]="'State'"
                                [placeholder]="'Enter state'"
                                [iconLeft]="
                                    'M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7'
                                "
                                [error]="getFieldError('state')"
                                [(value)]="state"
                                (blurred)="updateField('state', state())"
                            ></app-input>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <app-input
                                [id]="'pinCode'"
                                [type]="'text'"
                                [label]="'PIN Code'"
                                [placeholder]="'6-digit PIN code'"
                                [iconLeft]="
                                    'M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z'
                                "
                                [error]="getFieldError('pinCode')"
                                [(value)]="pinCode"
                                (blurred)="updateField('pinCode', pinCode())"
                            ></app-input>
                        </div>

                        <div class="form-group">
                            <app-input
                                [id]="'country'"
                                [type]="'text'"
                                [label]="'Country'"
                                [placeholder]="'Country'"
                                [iconLeft]="
                                    'M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z'
                                "
                                [readonly]="true"
                                [(value)]="country"
                            ></app-input>
                        </div>
                    </div>
                </div>

                <app-button
                    [type]="'submit'"
                    [variant]="'primary'"
                    [size]="'lg'"
                    [fullWidth]="true"
                    [loading]="isLoading()"
                    [iconRight]="isLoading() ? '' : 'M13 7l5 5m0 0l-5 5m5-5H6'"
                    class="submit-button"
                >
                    @if (isLoading()) { Creating Account... } @else { Create
                    Account }
                </app-button>

                <div class="signin-section">
                    <span class="signin-text">Already have an account?</span>
                    <app-link
                        [href]="'#'"
                        [variant]="'primary'"
                        [size]="'md'"
                        class="signin-link"
                    >
                        Sign In
                    </app-link>
                </div>
            </form>
        </app-card-content>
    </app-card>
</div>
